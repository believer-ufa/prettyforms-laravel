# Поля формы

При создании формы, мы конечно же думаем о том, какие поля у неё должны быть.
В случае с PrettyForms, вы описываете все поля формы и их внешний вид прямо в
теле вашего контроллера.

Создайте новый метод в вашем контроллере под названием `getFormFields()`. Он должен
возвращать ассоциативный массив элементов, ключи этих элементов - это названия
полей редактируемого объекта, либо названия связей `многие-ко-многим`.

Код должен быть примерно таким:

```php
    public function getFormFields()
    {
        return [
            '{название-поля|название-связи}'     => [
            
                // Обязательные свойства:
                
                // данное поле является названием шаблона, который будет взят из папки {prettyforms}/views/tags/{input-name}.php
                // Вы можете создать свои собственные шаблоны для формы, положив их в папку /resources/views/vendor/prettyforms/tags/{input-name}.php
                'tag'        => '{название-шаблона-ввода-данных}', 
                
                'label'      => '{заголовок-поля}',
                
                // Необязательные свойства:
                'desc'       => '{подробное-описание-поля}',
                'attributes' => [ /* любые доп. атрибуты, которые вам надо подключить к инпуту */ ],
            ],
        ];
    }
```

Например, можно таким образом создать форму редактирования пользователя:

```php
    public function getFormFields()
    {
        return [
            'name'     => [
                'tag'        => 'input',
                'label'      => 'Имя',
                'attributes' => ['data-validation' => 'notempty'],
            ],
            
            'email'    => [
                'tag'        => 'input',
                'label'      => 'E-Mail',
                'attributes' => ['data-validation' => 'notempty'],
            ],
            
            'its_man'    => [
                'tag'                   => 'select',
                'label'                 => 'Пол',
                'options' => [
                    '1' => 'Мужчина',
                    '0' => 'Женщина'
                ],
            ],
            
            /* Связь пользователя с ролями */
            'roles'    => [
                'tag'                   => 'checkbox-multi',
                'label'                 => 'Роли',
                'model'                 => 'App\Role',
                'display_as'            => 'name',
            ],
        ];    
    }
```

## Типы полей ввода данных

PrettyForms поддерживает следующие типы полей ввода:

### input

Обычный инпут. Используйте его, когда вам
необходимо отредактировать имя пользователя, его email,
изменить заголовок статьи, и так далее.

#### Пример кода

```php
    public function getFormFields()
    {
        return [
            'name'     => [
                'tag'    => 'input',
                'label'  => 'Имя',
            ],
        ];
   }         
```

### textarea

Точно также, обыкновенная textarea. Подключайте, когда вам
надо редактировать какой-то простой многострочный текст.

#### Пример кода

```php
    public function getFormFields()
    {
        return [
            'text'     => [
                'tag'        => 'textarea',
                'label'      => 'Текст статьи',
            ],
        ];
   }         
```

### checkbox

Обычное поле с галочкой. Используйте, когда вам надо установить или
снять какой-то булевый флаг у объекта.

#### Пример кода

```php
    public function getFormFields()
    {
        return [
            'its_man'    => [
                'tag'   => 'checkbox',
                'label' => 'Пол',
                
                // для данного поля ввода добавляется ещё одно свойство "text".
                // данный текст будет показан рядом с галочкой
                'text'  => 'Это мужчина',
            ],
        ];
   }         
```

### checkbox-multi

Набор чекбоксов. В данном случае мы можем заглянуть в базу данных и получить из неё
все возможные значения, с которыми может быть связан объект. Либо мы можем просто
объявить прямо в админке определённый набор заранее известных значений.

#### Пример кода

```php
    public function getFormFields()
    {
        return [
            'roles' => [
                'tag'          => 'checkbox-multi',
                'label'        => 'Роли',
                
                // Данное свойство может быть либо коллбеком, возвращающим массив,
                // либо может быть просто ассоциативным массивом
                'options'      => function($user) {
                    $items = [];
                    foreach(App\Role::orderBy('name')->get() as $role) {
                        $items[] = [
                            'value' => $role->id,
                            'text'  => $role->name,
                            
                            // Это уже необязательно, но бывает полезно
                            'desc'  => $role->desc,
                        ];
                    }
                    return $items;
                },
            ],
        ];
   }         
```

### select

Выбор значения из списка возможных. Используется в таких случаях, когда вам например
надо выбрать для объекта его тип из списка допустимых значений.

#### Пример кода

```php
    public function getFormFields()
    {
        return [
            'its_man' => [
                'tag'        => 'select',
                'label'      => 'Пол',
                
                // Данное свойство может быть либо коллбеком, возвращающим массив,
                // либо может быть просто ассоциативным массивом
                'options' => [
                    '1' => 'Мужчина',
                    '0' => 'Женщина'
                ],
            ],
        ];
   }         
```


### select-multi

Данный вид позволяет выбрать несколько значений из списка. Используйте
его для того, чтобы, например, выбирать роли, с которыми связан пользователь.

#### Пример кода

```php
    public function getFormFields()
    {
        return [
            'its_man' => [
                'tag'        => 'select-multi',
                'label'      => 'Пол',
                
                // Данное свойство может быть либо коллбеком, возвращающим массив,
                // либо может быть просто ассоциативным массивом
                'options' => [
                    '1' => 'Мужчина',
                    '0' => 'Женщина'
                ],
            ],
        ];
   }         
```

